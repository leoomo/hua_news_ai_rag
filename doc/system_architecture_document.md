# 个性化新闻智能知识库系统架构（精简版）

## 1. 概述

### 1.1 目标
建设高可用、可扩展的个性化新闻智能知识库，实现新闻自动采集、智能处理与高效检索。

### 1.2 设计原则
- 模块化、解耦
- 高可用、可观测
- 水平扩展、性能优先
- 安全合规、隐私优先

## 2. 总体架构

```
前端（Next.js） ⇄ API网关（Flask/FastAPI） ⇄ 业务服务（LangChain + 业务逻辑）
                                   │
                                   ▼
数据存储（SQLite/FAISS/Redis/文件） ｜ AI服务（Ollama+Embedding） ｜ 外部源（RSS/网页）
```

## 3. 分层与服务

### 3.1 分层
- 表现层：界面与交互、路由与状态
- 应用层：认证授权、路由、限流与观测
- 业务层：采集、知识库、检索、用户、通知
- 数据层：关系/向量/缓存/文件、外部API、消息队列

### 3.2 服务与通信
- 服务：NewsService、KnowledgeService、QueryService、UserService、AIService、NotificationService
- 通信：HTTP（同步）、Redis/Celery（异步），Nginx 负载均衡

## 4. 数据与流程

### 4.1 数据概览
- 关系数据：用户、新闻、RSS、查询日志
- 向量数据：文本分块嵌入，向量索引与重排

### 4.2 关键流程
- 采集：RSS/网页 → 清洗/去重 → 向量化 → 入库
- 检索：查询 → 向量检索 → 重排 → 返回

## 5. 部署与运维

### 5.1 部署形态
- 单机：Nginx + 应用（Gunicorn/uWSGI）+ Redis + Ollama
- 容器：前后端分离，多服务编排

### 5.2 非功能性
- 性能：缓存、异步、批处理
- 安全：HTTPS、RBAC、输入/输出校验、审计
- 可观测：日志、指标、追踪

## 6. 实施建议
- 先行MVP，聚焦采集/检索闭环
- 建立基准测试与容量规划
- 持续安全审计与用户反馈闭环

——
说明：所有代码与配置示例已迁移至《系统架构代码与配置附录》（system_architecture_code_and_config.md）。


